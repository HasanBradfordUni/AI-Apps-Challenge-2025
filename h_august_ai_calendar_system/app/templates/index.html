<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Has AI - AI Calendar and Scheduling System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/hasAi.css') }}">
    <link rel="icon" href="https://i.postimg.cc/PqP5VwNZ/Has-AI-logo.png">
</head>
<body>
    <header>
      <h1>
        <img
          src="https://i.postimg.cc/PqP5VwNZ/Has-AI-logo.png"
          alt="The Has AI logo"
          width="50"
          height="50"
          class="logo"
        />
        Has AI
        <img
          src="https://i.postimg.cc/PqP5VwNZ/Has-AI-logo.png"
          alt="The Has AI logo"
          width="50"
          height="50"
          class="logo"
        />
      </h1>
      <hr />
      <div>
        <ul class="nav">
          <li><a href="{{ url_for('calendar.dashboard') }}" class="nav" id="currentPage">Dashboard</a></li>
          <li><a href="{{ url_for('calendar.calendar_view') }}" class="nav">Calendar</a></li>
          <li><a href="{{ url_for('calendar.voice_command') }}" class="nav">Voice Commands</a></li>
        </ul>
      </div>
    </header>

    <section class="mainBody">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash-message flash-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <h1 class="mainHeading">Calendar Dashboard</h1>
        <div id="clock" class="clock"></div>

        <div class="dashboard-container">
            <!-- Daily Summary Card -->
            <div class="dashboard-card">
                <h3 class="subHeading">Today's AI Summary</h3>
                <div class="summary-content">
                    {{ daily_summary|markdown|safe if daily_summary else "No events scheduled for today." }}
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="dashboard-card">
                <h3 class="subHeading">Quick Actions</h3>
                <div class="quick-actions">
                    <button onclick="createQuickEvent()" class="action-btn">Create Event</button>
                    <button onclick="startVoiceCommand()" class="action-btn">Voice Command</button>
                    <button onclick="suggestMeetingTimes()" class="action-btn">Suggest Times</button>
                </div>
            </div>

            <!-- Email Parser -->
            <div class="dashboard-card">
                <h3 class="subHeading">üìß Email Parser</h3>
                <p class="largeText">Parse scheduling requests from emails</p>
                <form id="emailParserForm" action="{{ url_for('calendar.sync_emails') }}" method="POST" class="email-form">
                    <input type="text" name="subject" placeholder="Email Subject" class="email-input" required>
                    <textarea name="body" placeholder="Email Body Content" class="email-textarea" rows="4" required></textarea>
                    <button type="submit" class="submit-btn">Parse Email</button>
                </form>
            </div>

            <!-- Today's Events -->
            <div class="dashboard-card events-card">
                <h3 class="subHeading">Today's Schedule</h3>
                <div class="events-list">
                    {% if events %}
                        {% for event in events %}
                        <div class="event-item">
                            <div class="event-time-display">
                                {% if event[4] %}
                                    {{ event[4].split(' ')[1][:5] if ' ' in event[4] else event[4][:5] }}
                                {% else %}
                                    TBD
                                {% endif %}
                            </div>
                            <div class="event-details">
                                <h4>{{ event[2] }}</h4>
                                {% if event[3] %}
                                <p>{{ event[3] }}</p>
                                {% endif %}
                                {% if event[6] %}
                                <p class="event-location">üìç {{ event[6] }}</p>
                                {% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <p class="largeText">No events scheduled for today.</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Import Calendar Section -->
        <div class="dashboard-card import-section">
            <h3 class="subHeading">üìÖ Import Calendar</h3>
            <p class="largeText">Connect your existing calendars</p>
            <div class="import-buttons">
                <button onclick="importGoogleCalendar()" class="import-btn">
                    üìß Import Google Calendar
                </button>
                <button onclick="importOutlookCalendar()" class="import-btn">
                    üìß Import Outlook Calendar
                </button>
            </div>
        </div>
    </section>

    <footer>
    <div class="footer">
        <div class="w-container">
          <div class="w-row">
            <div class="w-col w-col-4">
              <h3>About</h3>
              <div></div>
              <div>Has AI</div>
              <div>AI Calendar and Scheduling System</div>
              <div>Website made with Python, Flask & Html</div>
              <div>AI Projects for all</div>
              <div>
                Welcome to Has AI, a sub-brand of Akhtar Hasan Software Solutions
              </div>
            </div>
            <div class="w-col w-col-4">
              <h3>Useful Links</h3>
              <div class="footer-link-row">
                <a href="{{ url_for('calendar.dashboard') }}" class="footer-link" target="_blank">Dashboard</a>
                <a href="{{ url_for('calendar.calendar_view') }}" class="footer-link">Calendar View</a>
              </div>
              <div class="footer-link-row">
                <a href="{{ url_for('calendar.voice_command') }}" class="footer-link">Voice Commands</a>
                <a href="{{ url_for('calendar.sync_emails') }}" class="footer-link">Sync Emails</a>
              </div>
            </div>
            <div class="f-col">
              <h3>Socials</h3>
              <div>
                <img
                  src="https://assets-global.website-files.com/5739f5a49fbb0b705633b84e/5739f5a59fbb0b705633b875_social-18.svg"
                  width="20"
                  alt=""
                  class="info-icon"
                />
                <a href="https://twitter.com/PythonPrgrmrYT" class="footer-link with-icon"
                  >X (Twitter)</a
                >
              </div>
              <div>
                <img
                  src="https://cdn.prod.website-files.com/662001a30f75ce6c5c72acf8/662001a30f75ce6c5c72ad80_social-16.svg"
                  width="20"
                  alt=""
                  class="info-icon"
                />
                <a
                  href="https://www.youtube.com/channel/UCIkg7kLDRl90fHEb2tFYRwg"
                  class="footer-link with-icon"
                  >YouTube</a
                >
              </div>
              <div>
                <img
                  src="https://cdn.prod.website-files.com/662001a30f75ce6c5c72acf8/662001a30f75ce6c5c72ad88_social-33.svg"
                  width="20"
                  alt=""
                  class="info-icon"
                />
                <a
                  href="https://github.com/AkhHas2005"
                  class="footer-link with-icon"
                  >GitHub</a
                >
              </div>
              <div>
                <img
                  src="https://cdn.prod.website-files.com/662001a30f75ce6c5c72acf8/662001a30f75ce6c5c72ad6b_social-07.svg"
                  width="20"
                  alt=""
                  class="info-icon"
                />
                <a href="https://www.instagram.com/pythonprogrammeryt/" 
                class="footer-link with-icon"
                  >Instagram</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
      <hr />
      <h1>&copy; Akhtar Hasan (aka Python Programmer) 2025</h1>
    </footer>

    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>
</html>